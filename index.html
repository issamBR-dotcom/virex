
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø¬Ø±Ø£Ø© ÙˆØµØ±Ø§Ø­Ø©</title>
  <style>
    body {
      background-color: #1a1a1a;
      color: white;
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding: 20px;
    }
    h1 {
      color: #ff4081;
    }
    canvas {
      background-color: #333;
      border: 4px solid #ff4081;
      border-radius: 50%;
      margin: 20px 0;
    }
    input, button {
      padding: 10px;
      margin: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: none;
    }
    button {
      background-color: #ff4081;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #e0356b;
    }
    #resultBox {
      background: #333;
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      margin: auto;
      margin-top: 30px;
      font-size: 18px;
    }
  </style>
</head>
<body>
<h1>ğŸ¡ Ø¬Ø±Ø£Ø© ÙˆØµØ±Ø§Ø­Ø©</h1>
<p>Ø£Ø¯Ø®Ù„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† (Ù…Ø«Ø§Ù„: Ø¹Ù„ÙŠ, Ø³Ø§Ø±Ø©):</p>
<input type="text" id="namesInput" placeholder="Ù…Ø«Ø§Ù„: Ø¹Ù„ÙŠ, Ø³Ø§Ø±Ø©" style="width:60%">
<br>
<button onclick="drawWheel()">ğŸ¨ Ø±Ø³Ù… Ø§Ù„Ø¹Ø¬Ù„Ø©</button>
<button onclick="spin()">ğŸ¯ Ù„Ù Ø§Ù„Ø¹Ø¬Ù„Ø©</button>
<canvas id="wheel" width="200" height="200"></canvas>
<div id="resultBox">Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§...</div>

<audio id="spinSound" src="https://www.soundjay.com/button/beep-07.wav" preload="auto"></audio>
<audio id="resultSound" src="https://www.soundjay.com/button/beep-10.wav" preload="auto"></audio>

<script>
  const truths = [
    "ğŸ§  ØµØ±Ø§Ø­Ø© Ø±Ù‚Ù… 1: Ù‡Ù„ Ø³Ø¨Ù‚ ÙˆØ®Ù†Øª Ø£Ø­Ø¯Ù‹Ø§ØŸ",
    "ğŸ§  ØµØ±Ø§Ø­Ø© Ø±Ù‚Ù… 2: Ù…Ø§ Ù‡Ùˆ Ø£ÙƒØ¨Ø± Ø³Ø± ØªØ®ÙÙŠÙ‡ØŸ",
    "ğŸ§  ØµØ±Ø§Ø­Ø© Ø±Ù‚Ù… 3: Ù…Ù† Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø°ÙŠ ØªÙƒØ±Ù‡Ù‡ Ø¨ØµÙ…ØªØŸ",
    "ğŸ§  ØµØ±Ø§Ø­Ø© Ø±Ù‚Ù… 4: Ù‡Ù„ Ø¨ÙƒÙŠØª Ù…Ø¤Ø®Ø±Ø§Ù‹ØŸ ÙˆÙ„Ù…Ø§Ø°Ø§ØŸ",
    "ğŸ§  ØµØ±Ø§Ø­Ø© Ø±Ù‚Ù… 5: Ù‡Ù„ ØªØ®Ø§Ù Ù…Ù† Ø§Ù„ÙØ´Ù„ØŸ"
  ];

  const dares = [
    "ğŸ”¥ Ø¬Ø±Ø£Ø© Ø±Ù‚Ù… 1: ÙƒÙ„ Ù‚Ø·Ø¹Ø© Ù„ÙŠÙ…ÙˆÙ† Ø¨Ø¯ÙˆÙ† ØªØ¹Ø¨ÙŠØ± ÙˆØ¬Ù‡",
    "ğŸ”¥ Ø¬Ø±Ø£Ø© Ø±Ù‚Ù… 2: Ø§ØªØµÙ„ Ø¨ØµØ¯ÙŠÙ‚ ÙˆÙ‚Ù„ Ù„Ù‡ 'Ø£Ù†Ø§ Ø¢Ø³Ù Ø¨Ø¯ÙˆÙ† Ø³Ø¨Ø¨'",
    "ğŸ”¥ Ø¬Ø±Ø£Ø© Ø±Ù‚Ù… 3: ØºÙ†ÙŠ Ø¨ØµÙˆØª Ù…Ø±ØªÙØ¹ 10 Ø«ÙˆØ§Ù†ÙŠ",
    "ğŸ”¥ Ø¬Ø±Ø£Ø© Ø±Ù‚Ù… 4: Ø´Ø§Ø±Ùƒ Ø¢Ø®Ø± ØµÙˆØ±Ø© ÙÙŠ Ù‡Ø§ØªÙÙƒ",
    "ğŸ”¥ Ø¬Ø±Ø£Ø© Ø±Ù‚Ù… 5: Ù‚Ù„ Ø³Ø±Ùƒ Ø§Ù„Ø£ÙƒØ¨Ø± Ø£Ù…Ø§Ù… Ø§Ù„ÙƒÙ„"
  ];

  let names = [];
  let startAngle = 0;
  let arc;
  let spinTimeout = null;
  let spinAngleStart = 0;
  let spinTime = 0;
  let spinTimeTotal = 0;
  const canvas = document.getElementById("wheel");
  const ctx = canvas.getContext("2d");
  const spinSound = document.getElementById("spinSound");
  const resultSound = document.getElementById("resultSound");

  function drawWheel() {
    const input = document.getElementById("namesInput").value;
    if (!input.trim()) {
      alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†.");
      return;
    }
    names = input.split(',').map(n => n.trim()).filter(n => n);
    arc = Math.PI * 2 / names.length;
    ctx.clearRect(0, 0, 200, 200);
    for (let i = 0; i < names.length; i++) {
      const angle = startAngle + i * arc;
      ctx.fillStyle = i % 2 === 0 ? "#ff4081" : "#555";
      ctx.beginPath();
      ctx.moveTo(100, 100);
      ctx.arc(100, 100, 90, angle, angle + arc, false);
      ctx.lineTo(100, 100);
      ctx.fill();
      ctx.save();
      ctx.fillStyle = "white";
      ctx.translate(100 + Math.cos(angle + arc / 2) * 60, 100 + Math.sin(angle + arc / 2) * 60);
      ctx.rotate(angle + arc / 2 + Math.PI / 2);
      ctx.fillText(names[i], -ctx.measureText(names[i]).width / 2, 0);
      ctx.restore();
    }
    ctx.fillStyle = "#fff";
    ctx.beginPath();
    ctx.moveTo(100, 0);
    ctx.lineTo(90, 15);
    ctx.lineTo(110, 15);
    ctx.fill();
  }

  function spin() {
    spinSound.play();
    spinAngleStart = Math.random() * 10 + 10;
    spinTime = 0;
    spinTimeTotal = Math.random() * 3000 + 3000;
    rotateWheel();
  }

  function rotateWheel() {
    spinTime += 30;
    if (spinTime >= spinTimeTotal) {
      stopRotateWheel();
      return;
    }
    const spinAngle = spinAngleStart - easeOut(spinTime, 0, spinAngleStart, spinTimeTotal);
    startAngle += (spinAngle * Math.PI / 180);
    drawWheel();
    spinTimeout = setTimeout(rotateWheel, 30);
  }

  function stopRotateWheel() {
    clearTimeout(spinTimeout);
    resultSound.play();
    const degrees = startAngle * 180 / Math.PI + 90;
    const arcd = arc * 180 / Math.PI;
    const index = Math.floor((360 - (degrees % 360)) / arcd);
    const selected = names[index];
    const mode = confirm("ğŸ§ Ù‡Ù„ ØªØ®ØªØ§Ø± 'Ù…ÙˆØ§ÙÙ‚' Ù„Ù„Ø¬Ø±Ø£Ø©ØŒ Ùˆ'Ø¥Ù„ØºØ§Ø¡' Ù„Ù„ØµØ±Ø§Ø­Ø©ØŸ");
    const list = mode ? dares : truths;
    const i = Math.floor(Math.random() * list.length);
    const question = list[i];
    document.getElementById("resultBox").innerHTML = `
      ğŸ¯ ØªÙ… Ø§Ø®ØªÙŠØ§Ø±: <strong>${selected}</strong><br><br>
      <strong>${question}</strong>
    `;
  }

  function easeOut(t, b, c, d) {
    const ts = (t /= d) * t;
    const tc = ts * t;
    return b + c * (tc + -3 * ts + 3 * t);
  }
</script>
</body>
</html>
